
# OpenAI 兼容 LLM 基础 URL（全局默认模型服务地址，以 /v1 结尾；用于对话与各阶段默认回退）
# OpenAI 默认 Base URL
# type: string
OPENAI_BASE_URL=https://yuanplus.chat/v1

# OpenAI 兼容 API Key（全局默认密钥）
# OpenAI 默认 API Key
# type: string
OPENAI_API_KEY=sk-REPLACE_ME

# 默认对话模型（全局默认 chat 模型名称；未单独指定阶段模型时会使用此值）
# 默认对话模型
# type: string
OPENAI_MODEL=gemini-flash-latest

# 采样温度（控制输出随机性；越高越发散，越低越稳定，常用 0 到 0.7）
# 默认温度
# type: number
# range: 0.0-2.0
OPENAI_TEMPERATURE=0.2

# OpenAI 兼容 API 请求超时时间（毫秒）
# OpenAI 请求超时（毫秒）
# type: number
# range: 1000-900000
OPENAI_TIMEOUT_MS=180000

# 最大输出 Token（单次响应上限；-1 表示不限制）
# 默认最大 Token
# type: number
# range: -1-128000
OPENAI_MAX_TOKENS=-1

# 向量嵌入模型（用于相似度检索、工具结果复用等；需要与向量维度匹配）
# 向量嵌入模型
# type: string
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# 可选：Embedding 专用 Base URL（只影响 embeddings 请求）
# Embedding Base URL
# type: string
EMBEDDING_BASE_URL=https://yuanplus.chat/v1

# 可选：Embedding 专用 API Key（只影响 embeddings 请求）
# Embedding API Key
# type: string
EMBEDDING_API_KEY=sk-REPLACE_ME

# 原生 tool 调用策略（控制 LLM 是否/如何触发原生工具调用，影响 OpenAI 兼容 tools 行为）
# OpenAI 原生工具策略
# type: enum
# options: auto | native | none
OPENAI_TOOL_CHOICE=auto

# 工具调用策略（native 使用原生工具调用；fc 使用sentra协议）
# 工具调用策略
# type: enum
# options: native | fc
TOOL_STRATEGY=fc

# FC 模式使用的 LLM 基础 URL（FC 多阶段统一默认服务地址）
# FC Base URL
# type: string
FC_BASE_URL=https://yuanplus.chat/v1

# FC 模式 API Key（FC 多阶段统一默认密钥）
# FC API Key
# type: string
FC_API_KEY=sk-REPLACE_ME

# FC 模式默认模型（FC 多阶段统一默认 chat 模型名称；各阶段未单独指定时使用）
# FC 默认模型
# type: string
FC_MODEL=gemini-flash-latest

# FC 模式默认温度（FC 多阶段默认采样温度；可被各阶段温度单独覆盖）
# FC 默认温度
# type: number
# range: 0.0-2.0
FC_TEMPERATURE=0.2

# FC 模式最大 Token 数（FC 多阶段默认输出上限；-1 表示不限制）
# FC 默认最大 Token
# type: number
# range: -1-128000
FC_MAX_TOKENS=-1

# FC 模式请求超时时间（毫秒，FC 多阶段默认超时；可被阶段专用超时覆盖）
# FC 请求超时（毫秒）
# type: number
# range: 1000-900000
FC_TIMEOUT_MS=180000

# FC 模式输出格式
# FC 输出格式
# type: string
FC_FORMAT=sentra

# 规划阶段最大重试次数（FC Plan 阶段 LLM 调用失败时的最大重试次数）
# FC Plan 最大重试
# type: number
# range: 0-10
FC_PLAN_MAX_RETRIES=3

# 参数生成/纠错阶段最大重试次数（FC Arg 阶段 LLM 调用失败时的最大重试次数）
# FC Arg 最大重试
# type: number
# range: 0-10
FC_ARG_MAX_RETRIES=3

# 评估阶段最大重试次数（FC Eval 阶段 LLM 调用失败时的最大重试次数）
# FC Eval 最大重试
# type: number
# range: 0-10
FC_EVAL_MAX_RETRIES=3

# 最终总结阶段最大重试次数（FC Summary 阶段 LLM 调用失败时的最大重试次数）
# FC Summary 最大重试
# type: number
# range: 0-10
FC_SUMMARY_MAX_RETRIES=1

# Judge 阶段专用 FC 模型（支持逗号分隔多模型，按顺序优先级使用）
# Judge 阶段模型
# type: string
JUDGE_FC_MODEL=

# Judge 阶段专用 FC 请求超时（毫秒）
# Judge FC 超时（毫秒）
# type: number
# range: 1000-900000
JUDGE_FC_TIMEOUT_MS=

# Plan 阶段专用 FC 模型（可选，支持逗号分隔多模型；多个模型时按模型维度生成候选计划并择优）
# Plan 阶段模型
# type: string
PLAN_FC_MODEL=

# Plan 阶段专用 FC 请求超时（毫秒）
# Plan FC 超时（毫秒）
# type: number
# range: 1000-900000
PLAN_FC_TIMEOUT_MS=

# Arg 阶段专用 FC 模型（仅影响 Arg 阶段）
# Arg 阶段模型
# type: string
ARG_FC_MODEL=

# Arg 阶段专用 FC 请求超时（毫秒）
# Arg FC 超时（毫秒）
# type: number
# range: 1000-900000
ARG_FC_TIMEOUT_MS=

# Eval 阶段专用 FC 模型（仅影响 Eval 阶段）
# Eval 阶段模型
# type: string
EVAL_FC_MODEL=

# Eval 阶段专用 FC 请求超时（毫秒）
# Eval FC 超时（毫秒）
# type: number
# range: 1000-900000
EVAL_FC_TIMEOUT_MS=

# Summary 阶段专用 FC 模型（仅影响 Summary 阶段）
# Summary 阶段模型
# type: string
SUMMARY_FC_MODEL=

# Summary 阶段专用 FC 请求超时（毫秒）
# Summary FC 超时（毫秒）
# type: number
# range: 1000-900000
SUMMARY_FC_TIMEOUT_MS=

# Reflection 阶段专用 FC 模型（仅影响 Reflection 阶段）
# Reflection 阶段模型
# type: string
REFLECTION_FC_MODEL=

# Reflection 阶段专用 FC 请求超时（毫秒）
# Reflection FC 超时（毫秒）
# type: number
# range: 1000-900000
REFLECTION_FC_TIMEOUT_MS=

# Judge 阶段专用 FC Base URL（仅 Judge 阶段使用的 LLM 服务地址）
# Judge 阶段 Base URL
# type: string
JUDGE_FC_BASE_URL=

# Judge 阶段专用 FC API Key（仅 Judge 阶段使用的密钥）
# Judge 阶段 API Key
# type: string
JUDGE_FC_API_KEY=

# Plan 阶段专用 FC Base URL（仅 Plan 阶段使用的 LLM 服务地址）
# Plan 阶段 Base URL
# type: string
PLAN_FC_BASE_URL=

# Plan 阶段专用 FC API Key（仅 Plan 阶段使用的密钥）
# Plan 阶段 API Key
# type: string
PLAN_FC_API_KEY=

# Arg 阶段专用 FC Base URL（仅 Arg 阶段使用的 LLM 服务地址）
# Arg 阶段 Base URL
# type: string
ARG_FC_BASE_URL=

# Arg 阶段专用 FC API Key（仅 Arg 阶段使用的密钥）
# Arg 阶段 API Key
# type: string
ARG_FC_API_KEY=

# Eval 阶段专用 FC Base URL（仅 Eval 阶段使用的 LLM 服务地址）
# Eval 阶段 Base URL
# type: string
EVAL_FC_BASE_URL=

# Eval 阶段专用 FC API Key（仅 Eval 阶段使用的密钥）
# Eval 阶段 API Key
# type: string
EVAL_FC_API_KEY=

# Summary 阶段专用 FC Base URL（仅 Summary 阶段使用的 LLM 服务地址）
# Summary 阶段 Base URL
# type: string
SUMMARY_FC_BASE_URL=

# Summary 阶段专用 FC API Key（仅 Summary 阶段使用的密钥）
# Summary 阶段 API Key
# type: string
SUMMARY_FC_API_KEY=

# Reflection 阶段专用 FC Base URL（仅 Reflection 阶段使用的 LLM 服务地址）
# Reflection 阶段 Base URL
# type: string
REFLECTION_FC_BASE_URL=

# Reflection 阶段专用 FC API Key（仅 Reflection 阶段使用的密钥）
# Reflection 阶段 API Key
# type: string
REFLECTION_FC_API_KEY=

# Plan 阶段采样温度（仅影响 FC Plan 阶段；留空则使用 FC_TEMPERATURE；建议 0.0-0.3 以提高稳定性）
# FC Plan 温度
# type: number
# range: 0.0-2.0
FC_PLAN_TEMPERATURE=0.1

# Plan 阶段 top_p（仅影响 FC Plan 阶段的 nucleus sampling；留空表示不指定，由后端/模型默认策略决定）
# FC Plan top_p
# type: number
# range: 0.0-1.0
FC_PLAN_TOP_P=

# Eval 阶段采样温度（仅影响 FC Eval 阶段；用于评估/判断时建议偏低以减少随机误判）
# FC Eval 温度
# type: number
# range: 0.0-2.0
FC_EVAL_TEMPERATURE=0.1

# Eval 阶段 top_p（仅影响 FC Eval 阶段；留空表示不指定，由模型默认策略决定）
# FC Eval top_p
# type: number
# range: 0.0-1.0
FC_EVAL_TOP_P=

# Summary 阶段采样温度（仅影响 FC Summary 阶段；用于最终总结时建议中低值以保证一致性）
# FC Summary 温度
# type: number
# range: 0.0-2.0
FC_SUMMARY_TEMPERATURE=0.1

# Summary 阶段 top_p（仅影响 FC Summary 阶段；留空表示不指定，由模型默认策略决定）
# FC Summary top_p
# type: number
# range: 0.0-1.0
FC_SUMMARY_TOP_P=

# Reflection 阶段采样温度（仅影响 FC Reflection 阶段；用于查漏补缺时建议偏低，避免无意义的补充动作）
# FC Reflection 温度
# type: number
# range: 0.0-2.0
FC_REFLECTION_TEMPERATURE=0.2

# Reflection 阶段 top_p（仅影响 FC Reflection 阶段；留空表示不指定，由模型默认策略决定）
# FC Reflection top_p
# type: number
# range: 0.0-1.0
FC_REFLECTION_TOP_P=

# Reflection 阶段最大重试次数（仅影响 FC Reflection 阶段；网络波动或限流时用于自动重试）
# FC Reflection 最大重试
# type: number
# range: 0-10
FC_REFLECTION_MAX_RETRIES=2

# 是否启用工具候选精排（开启后会用精排模型对候选工具/动作进行重排序；需要配置 RERANK_* 相关信息）
# 启用工具候选精排
# type: boolean
# options: true | false
RERANK_ENABLE=true

# 精排所用 LLM 基础 URL（在线精排服务地址）
# 精排 Base URL
# type: string
RERANK_BASE_URL=https://yuanplus.chat/v1

# 精排 LLM API Key（在线精排服务密钥）
# 精排 API Key
# type: string
RERANK_API_KEY=sk-REPLACE_ME

# 进入精排的候选数量（控制送入精排模型的候选规模；-1 表示全部候选都参与精排）
# 精排候选数 K
# type: number
# range: -1-1000
RERANK_CANDIDATE_K=-1

# 精排后保留的候选数量（精排完成后最多保留多少个候选；-1 表示不裁剪，保留全部排序结果）
# 精排保留数量 N
# type: number
# range: -1-1000
RERANK_TOP_N=-1

# 精排模型名称（在线精排所用的模型名称）
# 精排模型
# type: string
RERANK_MODEL=BAAI/bge-reranker-v2-m3

# 缺少 meta 描述时是否回退（候选缺少描述信息时是否启用兜底描述，提升精排稳定性但可能引入噪声）
# 精排描述兜底
# type: boolean
# options: true | false
RERANK_USE_DESC_FALLBACK=true

# 精排超时时间（毫秒，单次精排请求的最大等待时间；超时会回退到不精排或使用降级策略）
# 精排超时（毫秒）
# type: number
# range: 1000-900000
RERANK_TIMEOUT_MS=180000

# 最大子查询数（精排可能拆分成多个子查询；-1 或 0 表示不限制）
# 精排最大子查询数
# type: number
# range: -1-1000
RERANK_MAX_SUBQUERIES=-1

# 精排聚合参数 alpha（多路信号聚合权重之一；一般无需调整）
# 精排聚合 alpha
# type: number
# range: 0.0-1.0
RERANK_AGG_ALPHA=0.1

# 精排聚合参数 beta（多路信号聚合权重之一；一般无需调整）
# 精排聚合 beta
# type: number
# range: 0.0-1.0
RERANK_AGG_BETA=0.5

# 精排聚合参数 gamma（多路信号聚合权重之一；一般无需调整）
# 精排聚合 gamma
# type: number
# range: 0.0-1.0
RERANK_AGG_GAMMA=0.4

# 总结模型基础 URL（独立的 summarizer 服务地址）
# 总结模型 Base URL
# type: string
SUMMARIZER_BASE_URL=https://yuanplus.chat/v1

# 总结模型 API Key（独立的 summarizer 密钥）
# 总结模型 API Key
# type: string
SUMMARIZER_API_KEY=sk-REPLACE_ME

# 总结阶段模型（用于把多步骤执行过程压缩成最终答复；可用更便宜或更擅长总结的模型）
# 总结模型
# type: string
SUMMARIZER_MODEL=gemini-flash-latest

# 总结阶段温度（summarizer 的采样温度；建议偏低以保证总结稳定、少跑偏）
# 总结温度
# type: number
# range: 0.0-2.0
SUMMARIZER_TEMPERATURE=0.1

# 前置判定模型基础 URL（Judge 阶段使用的模型服务地址；用于判断是否需要工具/多阶段流程等）
# Judge Base URL
# type: string
JUDGE_BASE_URL=https://yuanplus.chat/v1

# 前置判定模型 API Key（Judge 阶段使用的密钥；建议与主模型分开以隔离权限和计费）
# Judge API Key
# type: string
JUDGE_API_KEY=sk-REPLACE_ME

# 前置判定模型名称（支持逗号分隔多模型，按顺序优先级使用；第一个为主模型）
# Judge 模型
# type: string
JUDGE_MODEL=gpt-5-mini

# 规划阶段 native 模型名称（native/auto 模式下 Plan 阶段使用；支持逗号分隔多模型并生成候选计划择优，留空则走默认回退链）
# Native Plan 模型
# type: string
PLAN_MODEL=

# 规划阶段请求超时时间（毫秒，native/auto 模式）
# Plan 超时（毫秒）
# type: number
# range: 1000-900000
PLAN_TIMEOUT_MS=180000

# 前置判定温度（Judge 阶段采样温度；建议偏低以减少随机性，避免误判 need_tools）
# Judge 温度
# type: number
# range: 0.0-2.0
JUDGE_TEMPERATURE=0.1

# 前置判定最大 Token（Judge 阶段输出上限；-1 表示不限制）
# Judge 最大 Token
# type: number
# range: -1-128000
JUDGE_MAX_TOKENS=-1

# Judge 阶段请求超时时间（毫秒）
# Judge 超时（毫秒）
# type: number
# range: 1000-900000
JUDGE_TIMEOUT_MS=180000

# 判定并发竞速的单次超时时间（毫秒；Judge 可能并发多次判定，超时会影响最终决策速度与稳定性）
# Judge 竞速超时（毫秒）
# type: number
# range: 1000-900000
JUDGE_RACE_TIMEOUT_MS=12000

# Reasoner 模型基础 URL（Reasoner 阶段使用的模型服务地址；用于需要更强推理能力的子任务）
# Reasoner Base URL
# type: string
REASONER_BASE_URL=https://yuanplus.chat/v1

# Reasoner API Key（Reasoner 阶段使用的密钥；建议与主模型分开配置以控制成本和权限）
# Reasoner API Key
# type: string
REASONER_API_KEY=sk-REPLACE_ME

# Reasoner 模型名称（用于推理/分析型子任务；可选择更强但更贵的模型）
# Reasoner 模型
# type: string
REASONER_MODEL=gemini-2.5-flash-preview-09-2025

# Reasoner 温度（Reasoner 阶段采样温度；推理场景建议偏低以减少跑偏）
# Reasoner 温度
# type: number
# range: 0.0-2.0
REASONER_TEMPERATURE=0.2

# Reasoner 最大 Token（Reasoner 阶段输出上限；-1 表示不限制）
# Reasoner 最大 Token
# type: number
# range: -1-128000
REASONER_MAX_TOKENS=-1

# Reasoner 阶段请求超时时间（毫秒）
# Reasoner 超时（毫秒）
# type: number
# range: 1000-900000
REASONER_TIMEOUT_MS=180000

# 规划阶段最大步骤数
# Plan 最大步数
# type: number
# range: 1-50
PLAN_MAX_STEPS=8

# 规划阶段最大并发
# Plan 最大并发
# type: number
# range: 1-50
PLAN_MAX_CONCURRENCY=3

# 规划/执行总时间预算（毫秒）
# 总时间预算（毫秒）
# type: number
# range: 1000-600000
PLAN_TOTAL_TIME_BUDGET_MS=60000

# 单次工具调用超时时间（毫秒）
# 工具调用超时（毫秒）
# type: number
# range: 1000-900000
TOOL_TIMEOUT_MS=180000

# 默认 WebSocket SDK 调用超时时间（毫秒）
# WS RPC 超时（毫秒）
# type: number
# range: 1000-900000
WS_RPC_TIMEOUT_MS=180000

# 工具默认冷却时间（毫秒）
# 工具默认冷却（毫秒）
# type: number
# range: 0-600000
TOOL_COOLDOWN_DEFAULT_MS=

# 函数内部冷却重试次数（建议 0）
# 冷却重试次数
# type: number
# range: 0-10
TOOL_COOLDOWN_FUNC_RETRY=0

# 是否启用工具结果缓存（仅缓存成功结果）
# 启用工具结果缓存
# type: boolean
# options: true | false
TOOL_CACHE_ENABLE=false

# 工具缓存 TTL（秒）
# 工具缓存 TTL（秒）
# type: number
# range: 0-2592000
TOOL_CACHE_TTL_SEC=600

# 允许缓存的工具列表（逗号分隔，空=全部）
# 工具缓存允许列表
# type: string
TOOL_CACHE_ALLOWLIST=

# 禁止缓存的工具列表（逗号分隔，优先生效）
# 工具缓存禁止列表
# type: string
TOOL_CACHE_DENYLIST=

# 向量记忆与结果缓存在 Redis 中使用的键前缀
# 记忆键前缀
# type: string
MEM_PREFIX=sentra:mcp:result:mem

# 是否启用向量记忆与结果复用（依赖 Redis）
# 启用向量记忆
# type: boolean
# options: true | false
MEM_ENABLE=false

# 是否启用基于 args 向量的工具结果复用
# 启用结果复用
# type: boolean
# options: true | false
MEM_RESULT_CACHE_ENABLE=false

# 结果复用相似度阈值（0-1），默认 0.97
# 结果复用阈值
# type: number
# range: 0.0-1.0
MEM_RESULT_REUSE_THRESHOLD=0.97

# 结果复用缓存 TTL（秒），默认 86400 ≈ 1 天
# 结果缓存 TTL（秒）
# type: number
# range: 0-2592000
MEM_RESULT_TTL_SEC=86400

# 允许结果复用的工具 aiName 列表（逗号分隔，空=全部）
# 结果复用允许列表
# type: string
MEM_RESULT_CACHE_ALLOWLIST=

# 禁止结果复用的工具 aiName 列表（逗号分隔，优先生效）
# 结果复用禁止列表
# type: string
MEM_RESULT_CACHE_DENYLIST=local__av_transcribe,local__bilibili_search,local__video_generate,local__video_vision_read,local__image_vision_edit,local__image_vision_read,local__document_read,local__document_read,local__image_draw,local__qq_message_send,local__qq_message_recall,local__qq_message_emojiLike,local__qq_message_recentContact,local__qq_group_ban,local__qq_group_kick,local__qq_group_leave,local__qq_group_setCard,local__qq_group_setName,local__qq_group_wholeBan,local__qq_user_deleteFriend,local__qq_user_sendLike,local__qq_user_sendPoke,local__qq_account_setQQAvatar,local__qq_account_setQQProfile,local__qq_account_setSelfLongnick,local__qq_system_setDiyOnlineStatus,local__qq_system_setModelShow,local__qq_system_setOnlineStatus

# 允许“立即执行 + 延迟发送”的工具 aiName 列表（逗号分隔，使用 local__ 等等前缀）。
# 立即执行允许列表
# type: string
SCHEDULE_IMMEDIATE_AI_ALLOWLIST=local__image_draw

# 显式禁止“立即执行”的工具 aiName 列表（逗号分隔，使用 local__ 等等前缀，优先级高于 allowlist）。
# 立即执行禁止列表
# type: string
SCHEDULE_IMMEDIATE_AI_DENYLIST=local__qq_message_send,local__qq_message_recall,local__qq_message_emojiLike,local__qq_message_recentContact,local__qq_group_ban,local__qq_group_kick,local__qq_group_leave,local__qq_group_setCard,local__qq_group_setName,local__qq_group_wholeBan,local__qq_group_info,local__qq_group_list,local__qq_group_memberInfo,local__qq_group_memberList,local__qq_system_setDiyOnlineStatus,local__qq_system_setModelShow,local__qq_system_setOnlineStatus,local__qq_system_getModelShow,local__qq_system_getUserStatus,local__qq_user_sendLike,local__qq_user_sendPoke,local__qq_user_deleteFriend,local__qq_user_getProfileLike,local__qq_account_setQQAvatar,local__qq_account_setQQProfile,local__qq_account_setSelfLongnick,local__qq_account_getQQProfile,local__qq_avatar_get,local__music_card,local__custom_music_card,local__desktop_control

# 单工具默认并发上限
# 单工具并发上限
# type: number
# range: 1-100
PLANNER_TOOL_CONCURRENCY_DEFAULT=5

# 单提供方默认并发上限
# 单提供方并发上限
# type: number
# range: 1-200
PLANNER_PROVIDER_CONCURRENCY_DEFAULT=10

# 治理默认 Scope
# 默认 Scope
# type: string
DEFAULT_SCOPE=global

# 治理默认租户 ID
# 默认租户 ID
# type: string
DEFAULT_TENANT_ID=default

# Redis 主机地址
# Redis Host
# type: string
REDIS_HOST=127.0.0.1

# Redis 端口
# Redis Port
# type: number
# range: 1024-65535
REDIS_PORT=6379

# Redis 数据库编号
# Redis DB
# type: number
# range: 0-15
REDIS_DB=0

# Redis 密码
# Redis 密码
# type: string
REDIS_PASSWORD=

# Redis 指标前缀
# Redis 指标前缀
# type: string
REDIS_METRICS_PREFIX=sentra:mcp:metrics

# Redis 上下文前缀
# Redis 上下文前缀
# type: string
REDIS_CONTEXT_PREFIX=sentra:mcp:ctx

# MCP Server 传输方式（stdio/http 等）
# MCP 传输方式
# type: enum
# options: stdio | http
MCP_SERVER_TRANSPORT=stdio

# MCP HTTP Server 端口
# MCP HTTP 端口
# type: number
# range: 1024-65535
HTTP_PORT=3001

# 允许的主机列表（逗号分隔）
# 允许的 Host 列表
# type: string
ALLOWED_HOSTS=127.0.0.1,localhost

# 是否开启全局修复/回滚重试
# 启用全局修复
# type: boolean
# options: true | false
RUN_ENABLE_REPAIR=false

# 全局修复循环上限次数
# 最大修复次数
# type: number
# range: 0-20
RUN_MAX_REPAIRS=0

# 重试时是否强制多样化路径
# 重试多样化
# type: boolean
# options: true | false
RETRY_DIVERSIFY=true

# 是否启用逐步反思（Stepwise Reflection，Level 3 可重规划剩余步骤）
# 启用逐步反思
# type: boolean
# options: true | false
ENABLE_STEP_REFLECTION=true

# 逐步反思模式（boolean）
# - false: gated，仅在高风险步骤触发（推荐）
# - true: always，每一步都触发（成本高）
# type: boolean
# options: true | false
STEP_REFLECTION_MODE=true

# 逐步反思置信度阈值（0-1；低于阈值时应倾向 proceed 或插入补充步骤，而不是强行重规划）
# type: number
# range: 0.0-1.0
STEP_REFLECTION_CONFIDENCE_THRESHOLD=0.55

# 单次运行中允许触发“重规划剩余步骤”的最大次数（熔断，避免无限重规划）
# type: number
# range: 0-20
STEP_REFLECTION_MAX_REPLANS=2

# 当初始计划步骤数小于该阈值时，将禁用所有反思机制（逐步反思 + 全局 Reflection），以节省成本并避免误判
# type: number
# range: 0-20
STEP_REFLECTION_MIN_PLAN_STEPS=3

# 是否启用全局 Reflection（任务完成后的查漏补缺）
# 注意：当 ENABLE_STEP_REFLECTION=true 时，默认会关闭全局 Reflection（避免重复成本）；可手动开启。
# type: boolean
# options: true | false
ENABLE_REFLECTION=false

# 全局 Reflection 最大补充操作数量
# type: number
# range: 0-20
REFLECTION_MAX_SUPPLEMENTS=3

# 是否启用详细步骤日志（开启后会输出每步工具调用的参数、结果等调试信息）
# 启用详细步骤日志
# type: boolean
# options: true | false
ENABLE_VERBOSE_STEPS=true

# 详细日志预览最大长度（参数/结果的预览截断长度）
# 详细日志预览最大长度
# type: number
# range: 100-4000
VERBOSE_PREVIEW_MAX=400

# 单工具调用场景：以下工具（aiName，逗号分隔，使用 local__/external__ 前缀）将跳过“预回复”生成（减少一次额外的模型请求）
# 单工具预回复跳过列表
# type: string
# note: 仅当 judge 判定工具列表长度=1 时生效；>=2 个工具调用仍按原逻辑处理
TOOL_PREREPLY_SINGLE_SKIP_TOOLS=local__image_vision_read,local__video_vision_read,local__document_read,local__system_info,local__qq_account_getQQProfile,local__qq_avatar_get,local__qq_group_info,local__qq_group_list,local__qq_group_memberInfo,local__qq_group_memberList,local__qq_message_recentContact

# 外部 MCP 工具返回文本最大长度（提取 content[].text 后的截断长度；用于减少外部工具返回的冗长文本）
# 外部 MCP 返回文本最大长度
# type: number
# range: 200-2000000
EXTERNAL_MCP_RESULT_MAX_CHARS=8192