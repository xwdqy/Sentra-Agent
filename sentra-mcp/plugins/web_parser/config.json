{
  "name": "web_parser",
  "description": "网页解析与视觉网页分析：渲染页面后提取标题/正文/元数据，并可对页面进行全屏截图 + 视觉模型读图（LLM）以补全 DOM 抽取缺失的内容（例如图文混排、截图文字、canvas/图表、被脚本渲染的片段、反爬导致的空 DOM 等）。",
  "inputSchema": {
    "type": "object",
    "properties": {
      "url": {
        "type": "string",
        "description": "单个要解析的网页 URL（可不带协议，会自动补全为 https://）。若需要一次解析多个网页，请使用 urls[]。"
      },
      "urls": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "minItems": 1,
        "description": "批量解析的网页 URL 数组（每个元素可不带协议，会自动补全为 https://）。"
      },
      "prompt": {
        "type": "string",
        "description": "必填：你希望从该网页获取什么/解决什么问题（会优先用于视觉读图提示词）。建议包含目标、关注点与输出形式，例如：\"总结 README 的核心功能、安装步骤与关键配置\" / \"提取页面里的产品定价表\" / \"判断页面是否包含 UI 截图或品牌视觉元素\""
      },
      "schedule": {
        "type": "object",
        "properties": {
          "when": {
            "type": "string",
            "description": "时间表达：如 '5分钟后' / '30秒后' / '明天09:00' / '2025-12-16 21:30' / ISO 字符串。请使用清晰、可解析的时间表达，避免使用『稍后』『改天』『有空的时候』『尽快』『5分钟之后』等模糊说法。"
          },
          "language": {
            "type": "string",
            "description": "语言标识，例如 zh|en（默认 zh）"
          },
          "timezone": {
            "type": "string",
            "description": "IANA 时区名称，例如 Asia/Shanghai"
          },
          "targetISO": {
            "type": "string",
            "description": "预解析好的绝对时间（ISO 字符串），例如 '2025-12-16T21:30:00+08:00'；如提供，将被上游优先用作目标时间。"
          }
        },
        "required": [
          "when",
          "targetISO"
        ],
        "additionalProperties": true,
        "description": "可选：当用户需要延迟处理或延迟反馈时使用。具体是仅延迟反馈还是到点再执行，由上层调度策略（例如 immediate_exec / delayed_exec）决定；若到点未完成，将先反馈进行中状态。"
      }
    },
    "required": [
      "prompt"
    ],
    "anyOf": [
      { "required": ["url"] },
      { "required": ["urls"] }
    ],
    "additionalProperties": false
  },
  "cooldownMs": 0,
  "timeoutMs": 35000,
  "meta": {
    "realWorldAction": "浏览网页内容",
    "responseStyle": "自然语言 + 结构化内容",
    "responseExample": "我已经查看了这个网页，内容主要是..."
  }
}
