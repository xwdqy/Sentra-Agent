 # RAG 检索总超时时间（毫秒）- 主程序侧等待 SDK 返回检索结果的时间上限
 # type: number
 # range: 1000-600000
 RAG_TIMEOUT_MS=8000
 
 # RAG 检索缓存 TTL（毫秒）- 同一会话同一 query 在 TTL 内复用结果，减少 Neo4j / embedding 调用
 # type: number
 # range: 0-3600000
 RAG_CACHE_TTL_MS=60000
 
 # RAG 注入证据最大字符数（<=0 不截断；>0 会尽量按段落边界裁剪，避免半句截断）
 # type: number
 # range: -1-200000
 RAG_CONTEXT_MAX_CHARS=0
 
 # 关键词扩展检索：最多抽取多少个关键词去做额外全文检索（0 表示关闭该扩展）
 # type: number
 # range: 0-20
 RAG_KEYWORD_TOP_N=3
 
 # 每个关键词额外全文检索的 topK（命中条数上限）
 # type: number
 # range: 0-50
 RAG_KEYWORD_FULLTEXT_LIMIT=4
 
 # 入库延迟（毫秒）- 用于在写入 Neo4j 前做节流/错峰（0 表示不延迟）
 # type: number
 # range: 0-600000
 RAG_INGEST_DELAY_MS=0
 
 # [sentra-rag SDK：OpenAI 兼容配置]
 
 # OpenAI API Key - 用于合约生成（ingest/query）与 embedding
 # type: string
 rag_OPENAI_API_KEY=
 
 # OpenAI Base URL - 留空使用默认（或你自己的 OpenAI-compat 网关）
 # type: string
 rag_OPENAI_BASE_URL=
 
 # 合约生成使用的 Chat 模型
 # type: string
 rag_OPENAI_CHAT_MODEL=gpt-4o-mini
 
 # Embedding 模型 - 需要与 NEO4J_VECTOR_DIMENSIONS 对应（如 text-embedding-3-small=1536）
 # type: string
 rag_OPENAI_EMBEDDING_MODEL=text-embedding-3-small
 
 # 合约生成温度 - 0 更稳定；建议保持 0
 # type: number
 # range: 0.0-2.0
 rag_OPENAI_TEMPERATURE=0
 
 # 合约生成最大输出 token（XML 合约长度上限）
 # type: number
 # range: 256-10000
 rag_OPENAI_MAX_OUTPUT_TOKENS=2000
 
 # [sentra-rag SDK：dotenv/合约策略]
 
 # .env 热更新开关（默认开启）；关闭可设为 false/0/off
 # type: boolean
 # options: true | false
 rag_ENV_WATCH=true
 
 # 合约回显输入 - 将模型输出 XML 中的 <normalized_input> 强制替换为真实输入（默认开启）
 # type: boolean
 # options: true | false
 rag_CONTRACT_ECHO_INPUT=
 
 # 合约语言（影响提示词与抽取偏好）
 # type: enum
 # options: zh | en
 rag_SENTRA_CONTRACT_LANG=zh

 
 # Neo4j Bolt URI
 # type: string
 rag_NEO4J_URI=bolt://localhost:7687
 
 # Neo4j 用户名
 # type: string
 rag_NEO4J_USERNAME=neo4j
 
 # Neo4j 密码
 # type: string
 rag_NEO4J_PASSWORD=
 
 # Neo4j 数据库名（社区版通常为 neo4j）
 # type: string
 rag_NEO4J_DATABASE=neo4j
 
 # 向量索引名 - 若你曾用不同 schema 建过旧索引，建议改成新名字避免冲突
 # type: string
 rag_NEO4J_VECTOR_INDEX=chunkChildEmbedding
 
 # 全文索引名
 # type: string
 rag_NEO4J_FULLTEXT_INDEX=chunkText
 
 # 向量维度（必须与 embedding 模型输出维度一致）
 # type: number
 # range: 128-8192
 rag_NEO4J_VECTOR_DIMENSIONS=1536
 
 # 向量相似度度量
 # type: enum
 # options: cosine
 rag_NEO4J_VECTOR_SIMILARITY=cosine
 
 
 # 全局重排序开关（query 模式的精排；无 API Key 时会回退到 embedding 余弦精排）
 # type: boolean
 # options: true | false
 rag_RERANK_ENABLE=
 
 # 重排服务 API Key（留空则禁用在线 rerank）
 # type: string
 rag_RERANK_API_KEY=
 
 # 重排服务 Base URL（OpenAI-compat rerank 服务或你的网关）
 # type: string
 rag_RERANK_BASE_URL=
 
 # 重排模型名（依赖你的 rerank 服务）
 # type: string
 rag_RERANK_MODEL=
 
 # 重排超时（毫秒）
 # type: number
 # range: 1000-60000
 rag_RERANK_TIMEOUT_MS=12000
 
 # 重排候选 K（先取多少候选再做重排）
 # type: number
 # range: 1-200
 rag_RERANK_CANDIDATE_K=40
 
 # 重排最终保留 TopN
 # type: number
 # range: 1-200
 rag_RERANK_TOP_N=40
 
 
 # 全文检索 topK
 # type: number
 # range: 0-100
 rag_RETRIEVE_FULLTEXT_LIMIT=10
 
 # 向量检索 topK
 # type: number
 # range: 0-100
 rag_RETRIEVE_VECTOR_K=8
 
 # 混合检索 topK（向量部分）
 # type: number
 # range: 0-100
 rag_RETRIEVE_HYBRID_K_VECTOR=8
 
 # 混合检索 topK（全文部分）
 # type: number
 # range: 0-100
 rag_RETRIEVE_HYBRID_K_FULLTEXT=8
 
 # 是否对命中的 child chunk 做 parent 扩展（更像“段落级”内容）
 # type: boolean
 # options: true | false
 rag_RETRIEVE_EXPAND_PARENT=true
 
 # 拼接上下文最大字符预算（SDK 内部拼 contextText 的预算；越大返回越长；即便不截断也建议设上限防止提示词过长）
 # type: number
 # range: 1000-200000
 rag_RETRIEVE_BUDGET_CHARS=50000
 
 # 直接检索是否开启精排（优先在线 rerank；无 key 自动回退 embedding 精排）
 # type: boolean
 # options: true | false
 rag_RETRIEVE_RERANK_ENABLE=true
 
 # 直接检索精排候选 K
 # type: number
 # range: 1-200
 rag_RETRIEVE_RERANK_CANDIDATE_K=40
 
 # 直接检索精排最终保留 TopN
 # type: number
 # range: 1-200
 rag_RETRIEVE_RERANK_TOP_N=20
 
 # 是否输出 debug 结构（用于排查检索质量；会增加返回体积）
 # type: boolean
 # options: true | false
 rag_RETRIEVE_DEBUG=false
 
 
 # RAG SDK 日志级别
 # type: enum
 # options: debug | info | warn | error
 rag_LOG_LEVEL=info
