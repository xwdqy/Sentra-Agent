# FastAPI 服务监听地址
APP_HOST=127.0.0.1

# FastAPI 服务端口
APP_PORT=7200

# 推理设备选择（auto/cpu/cuda）
SENTRA_DEVICE=auto

# SENTRA_DEVICE=cuda 时使用的显卡索引（兼容旧配置）
SENTRA_CUDA_INDEX=0

# 情感倾向模型（models/sentiment 下的目录或绝对路径）
SENTRA_SENTIMENT_MODEL=erlangshen

# 情绪识别模型（models/emotion 下的目录或绝对路径）
SENTRA_EMOTION_MODEL=Chinese-Emotion-Small

# 是否启用多标签情绪推理
EMO_MULTI_LABEL=true

# 多标签情绪判定阈值
EMO_THRESHOLD=0.35

# 输出的情绪标签数量（0 表示不限）
EMO_TOPK=0

# 情绪标签最小分数（小于该分数的情绪会在输出中被过滤，0 表示不过滤）
EMO_MIN_EMOTION_SCORE=0.0

# 是否使用 label_alias.json 进行标签别名映射
EMO_USE_ALIAS=true

# 中性情感处理策略（auto/on/off）
SENTRA_SENTIMENT_NEUTRAL=auto

# 情绪标签配置文件路径
EMOTION_LABELS_FILE=app/vad_maps/default.json

# 用户状态与事件数据目录（包含 DuckDB）
USER_STORE_DIR=data

# 快速 EMA 半衰期（秒，默认 900）
USER_STATE_FAST_HALFLIFE_SEC=900

# 慢速 EMA 半衰期（秒，默认 7200）
USER_STATE_SLOW_HALFLIFE_SEC=7200

# EMA 自适应增益（默认 2.0）
USER_STATE_ADAPT_GAIN=2.0

# 保留的高频情绪标签数量
USER_TOP_EMOTIONS=6

# MBTI 分析策略（heuristic 或 model）
MBTI_CLASSIFIER=heuristic

# 外部 MBTI 服务地址（可选）
MBTI_EXTERNAL_URL=

# 外向-内向维度低阈值
MBTI_IE_A_LOW=0.48

# 外向-内向维度高阈值
MBTI_IE_A_HIGH=0.58

# 思考-情感维度正向低阈值
MBTI_TF_POS_LOW=0.45

# 思考-情感维度正向高阈值
MBTI_TF_POS_HIGH=0.60

# 正向区间分割点
MBTI_POS_V_CUT=0.56

# 负向区间分割点
MBTI_NEG_V_CUT=0.44

# 实感-直觉维度波动下限
MBTI_SN_VSTD_LOW=0.07

# 实感-直觉维度波动上限
MBTI_SN_VSTD_HIGH=0.14

# 判断-感知维度波动下限
MBTI_JP_ASTD_LOW=0.07

# 判断-感知维度波动上限
MBTI_JP_ASTD_HIGH=0.14

# MBTI 分析使用的最大事件数量
MBTI_ANALYTICS_MAX_EVENTS=10000

# 可视化输出使用的字体路径（需确保文件存在）
VISUAL_FONT_PATH=fonts/SourceHanSansSC-Regular.otf

# local: 使用本地 模型，online: 使用在线情感分析 API（例如 NLP Cloud）
EMO_BACKEND=online

# 在线服务提供方标识
EMO_ONLINE_PROVIDER=nlpcloud

# 在 https://nlpcloud.com/ 获取并填入你的 API Token，支持以逗号分隔多个 Token，服务会自动轮询并在限流时切换
NLP_CLOUD_API_TOKEN=e0e2d1607754e6f2217bc502d0f989aab6ef1642

# NLP Cloud 上用于情感分析的模型名称（使用完整 slug），例如：zho_Hans/distilbert-base-uncased-emotion（简体中文情绪模型）
NLP_CLOUD_SENTIMENT_MODEL=zho_Hans/distilbert-base-uncased-emotion

# NLP Cloud 上用于情绪分布的模型名称（可选，默认与 NLP_CLOUD_SENTIMENT_MODEL 相同）
NLP_CLOUD_EMOTION_MODEL=zho_Hans/distilbert-base-uncased-emotion

# 是否请求使用 GPU（多数场景可以保持 false）
NLP_CLOUD_GPU=false

# 当某个 Token 触发 429 时的冷却时间（秒）
NLP_CLOUD_TOKEN_COOLDOWN_SEC=90