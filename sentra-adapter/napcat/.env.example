# NapCat WebSocket 地址（OneBot 11 / NapCat OneBot v11）
# type: string
NAPCAT_WS_URL=ws://127.0.0.1:6700

# 连接模式（forward=正向，reverse=反向）
# type: enum
# options: forward | reverse
MODE=reverse

# NapCat/OneBot 实现使用的访问令牌（可选）
# type: string
NAPCAT_ACCESS_TOKEN=

# 示例脚本使用的测试群号（可选）
# type: string
TEST_GROUP_ID=

# 示例脚本使用的测试用户 QQ 号（可选）
# type: string
TEST_USER_ID=

# 示例脚本中用于引用回复的消息 ID（可选）
# type: string
TEST_REPLY_MSG_ID=

# 反向模式下连接成功后要私聊通知的主人 QQ 号（可选）
# type: string
OWNER_QQ=

# 主人通知消息的自定义内容（可选）
# type: string
OWNER_NOTIFY_TEXT=

# 日志级别（info | debug | warn | error | silent）
# type: enum
# options: info | debug | warn | error | silent
LOG_LEVEL=debug

# 事件摘要打印策略（always | debug | never）
# type: enum
# options: always | debug | never
EVENT_SUMMARY=always

# 是否使用 JSON 结构化日志（true | false）
# type: boolean
# options: true | false
JSON_LOG=false

# 日志中消息文本最大长度（0=不限制，默认80）
# type: number
# range: 0-1000
MESSAGE_TEXT_MAX_LENGTH=80

# 调用时是否自动等待 WS 连接就绪
# type: boolean
# options: true | false
AUTO_WAIT_OPEN=true

# 命令前缀（例如 !help）
# type: string
COMMAND_PREFIX=!

# 是否启用自动重连 NapCat
# type: boolean
# options: true | false
RECONNECT=true

# 最小重连间隔（毫秒）
# type: number
# range: 100-60000
RECONNECT_MIN_MS=1000

# 最大重连间隔（毫秒）
# type: number
# range: 1000-600000
RECONNECT_MAX_MS=15000

# 请求超时时间（毫秒）
# type: number
# range: 1000-600000
REQUEST_TIMEOUT_MS=120000

# 最大并发请求数
# type: number
# range: 1-100
RATE_MAX_CONCURRENCY=5

# 相邻请求的最小间隔时间（毫秒）
# type: number
# range: 0-60000
RATE_MIN_INTERVAL_MS=200

# 调用失败时的最大重试次数
# type: number
# range: 0-10
RETRY_MAX_ATTEMPTS=0

# 第一次重试的延迟时间（毫秒）
# type: number
# range: 0-60000
RETRY_INITIAL_DELAY_MS=500

# 重试退避系数（指数退避）
# type: number
# range: 1-10
RETRY_BACKOFF_FACTOR=2

# 重试抖动范围（毫秒）
# type: number
# range: 0-60000
RETRY_JITTER_MS=200

# 是否对消息事件做去重
# type: boolean
# options: true | false
DEDUP_EVENTS=true

# 事件去重缓存过期时间（毫秒）
# type: number
# range: 1000-600000
DEDUP_TTL_MS=120000

# 群白名单（逗号分隔，空表示所有群均允许）
# type: string
WHITELIST_GROUPS=

# 用户白名单（逗号分隔，空表示所有用户均允许）
# type: string
WHITELIST_USERS=

# 对非白名单消息是否记录日志（true=记录并忽略，false=静默丢弃）
# type: boolean
# options: true | false
LOG_FILTERED=false

# 反向 WebSocket 监听端口（NapCat 将连接到此端口）
# type: number
# range: 1-65535
REVERSE_PORT=6701

# 反向 WebSocket 路径
# type: string
REVERSE_PATH=/onebot

# 是否启用测试插件（用于开发调试，命令以 # 开头）
# type: boolean
# options: true | false
ENABLE_TEST_PLUGIN=false

# 是否启用消息流服务（WebSocket 实时消息推送）
# type: boolean
# options: true | false
ENABLE_STREAM=true

# 消息流服务监听端口
# type: number
# range: 1-65535
STREAM_PORT=6702

# 是否在推送中包含原始事件数据（调试用，会增加数据量）
# type: boolean
# options: true | false
STREAM_INCLUDE_RAW=false

# 是否启用 AI 自动回复功能
# type: boolean
# options: true | false
ENABLE_AI=false

# AI API 基础地址（OpenAI 兼容）
# type: string
AI_API_URL=https://yuanplus.chat/v1

# AI API 密钥
# type: string
AI_API_KEY=

# AI 模型名称
# type: string
AI_MODEL=gpt-4o

# 温度参数 (0.0-2.0，越高越随机，越低越稳定)
# type: number
# range: 0.0-2.0
AI_TEMPERATURE=0.7

# AI 回复的最大 tokens 数
# type: number
# range: 1-32000
AI_MAX_TOKENS=2000

# 系统提示词（为空则使用默认）
# type: string
AI_SYSTEM_PROMPT=

# AI 回复延迟（毫秒），用于模拟打字效果
# type: number
# range: 0-600000
AI_REPLY_DELAY=1000

# 是否在 summary 中包含消息 ID（便于引用回复）
# type: boolean
# options: true | false
STREAM_INCLUDE_MESSAGE_ID=true

# 是否跳过动画表情图片消息（summary 为 "[动画表情]" 的纯图片）
# type: boolean
# options: true | false
STREAM_SKIP_ANIMATED_EMOJI=true

# 消息流 RPC 调用 NapCat 失败时是否自动重试
# type: boolean
# options: true | false
STREAM_RPC_RETRY_ENABLED=true

# RPC 重试间隔（毫秒，默认 10000）
# type: number
# range: 1000-600000
STREAM_RPC_RETRY_INTERVAL_MS=10000

# RPC 最大重试次数（默认 60 次）
# type: number
# range: 0-1000
STREAM_RPC_RETRY_MAX_ATTEMPTS=60

# 图片缓存目录（可选，默认 ./cache/images）
# type: string
IMAGE_CACHE_DIR=./cache/images

# 文件/音视频缓存目录（可选，默认 ./cache/file）
# type: string
FILE_CACHE_DIR=./cache/file

# 图片缓存过期时间（天，默认 2 天；小于等于 0 表示不自动清理）
# type: number
# range: -1-365
IMAGE_CACHE_EXPIRE_DAYS=2

# 文件缓存过期时间（天，默认 2 天；小于等于 0 表示不自动清理）
# type: number
# range: -1-365
FILE_CACHE_EXPIRE_DAYS=2